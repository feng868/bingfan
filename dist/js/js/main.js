define(["jquery"],function(){return{init:function(){var i=new Promise(function(s,i){$.ajax({type:"get",url:"../data/shop.json",dataType:"json",success:function(i){i=i.shop,s(i)},error:function(i){console.log(i)}})}),t="";i.then(function(i){for(var s=0;s<i.length;s++)t+='<div class="main content"><div class="toptitle"><h4>'+i[s].title+'</h4></div><div class="shop-warp"><div class="shop-bimg"><a href="##"><img src="'+i[s].bimg+'" /></a></div><div class="shop-simg"><a href="##"><img src="'+i[s].simg[0]+'" /><i></i></a><a href="##"><img src="'+i[s].simg[1]+'" /><i></i></a></div><div class="shop-list"><ul><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[0]+'" /><i></i></a></li><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[1]+'" /><i></i></a></li><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[2]+'" /><i></i></a></li><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[3]+'" /><i></i></a></li><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[4]+'" /><i></i></a></li><li><div class="txtwp"><b>'+i[s].stitle[0]+"</b><p>"+i[s].describe[0]+'</p></div><a href="##"><img src="'+i[s].spimg[5]+'" /><i></i></a></li></ul></div></div></div>';$("#main-warp").html(t),$(".state>li").hover(function(){$(this).addClass("on").siblings().removeClass("on"),$(".glby-box").eq($(this).index()).addClass("active").siblings().removeClass("active")}),$(".gotop").click(function(){$("html").animate({scrollTop:0},1e3)}),{item:$(".main"),ul:$("#floor"),aLi:$("#floor>ul>li"),iH:$(window).height(),init:function(){var e=this;$(document).scroll(function(){var l=$(document).scrollTop();l>1474-e.iH/2?e.ul.fadeIn():e.ul.fadeOut(),e.item.each(function(i){var s=$(this).offset().top,t=$(this).height();s<=e.iH/2+l&&s+t>=e.iH/2+l&&e.aLi.eq(i).addClass("active").siblings().removeClass()})}),this.on()},on:function(){var t=this;t.aLi.click(function(){console.log(t);var i=$(this).index(),s=t.item.eq(i).offset().top-t.iH/2+10;$("html").stop(!0).animate({scrollTop:s})})}}.init(),$(".shop-list>ul>li").click(function(){location.href="tejia.html"}),$(".glby-list>ul>li").click(function(){location.href="tejia.html"})})}}});